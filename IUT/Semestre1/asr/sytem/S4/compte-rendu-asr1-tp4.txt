
		   COMPTE RENDU DU TP 4 -  ASR1/USI
		     Semaine du 4 Octobre 2010

Nom    : Ladoucette 
Prénom : Arnaud
Groupe : S1C''

------------------------------------------------------------

Pendant la séance de TP, remplissez ce compte-rendu au fur et 
à mesure de l'avancement de votre travail. Sauvez de temps en 
temps. Perdre le fichier est une faute grave.

En fin de séance, envoyez-le (même incomplet) par courrier
électronique à votre enseignant.

Si vous n'avez pas eu le temps de tout faire, terminez le
travail pendant la semaine.

------------------------------------------------------------
2 DROITS D'ACCÈS UNIX

2.1 LES EFFETS

# PERMISSIONS SUR LES FICHIERS
* Quels fichiers pouvez-vous lire? A quel(s) droit(s) est-ce lié?

f_r : l'utilisateur, le groupe et les autres peuvent seulement lire
f_rw : l'utilisateur, le groupe et les autres peuvent lire et ecrire
f_rwx : l'utilisateur, le groupe et les autres peuvent lire, ecrire, executer
f_rx :  l'utilisateur, le groupe et les autres peuvent lire et ecrire



* Quels fichiers pouvez-vous modifier?

on peut modifier les fichiers : f_rw, f_rwx, f_w, f_wx



* Pouvez vous modifier un fichier dont vous ne pouvez pas lire le contenu?

oui on peut le modifier mais on peut pas vérifié si la modification s'est bien effectué



* Quels droits autorisent l'écriture?

le droit : w : ecrire


* Quels fichiers pouvez-vous supprimer? Pourquoi?

on peut tous les supprimer mais pour les fichiers de disposant pas des droit d'écriture, une confirmation est demandé avant suppression




# PERMISSIONS SUR LES RÉPERTOIRES
* Quels droits faut-il pour consulter le contenu d'un répertoire? 

il faut le droit : r : lire


* Pour s'y déplacer?

il faut le droit : x : executer


* Pouvez-vous lire le contenu de rep_wx/fic_rw et rep_rw/fic_rw?
  Pourquoi?

on peut pas lire le fichier rep_wx/fic_rw car on peut pas lire le contenue du dossier rep_wx
on peut pas lire le fichier rep_rw/fic_rw car on peut pas accéder au dossier du dossier rep_rw


* Quels droits faut-il pour:
 - consulter le contenu des fichiers d'un répertoire? 
    -> sur le répertoire: x
    -> sur le fichier: r

 - renommer un fichier?
    -> sur le répertoire: wx
    -> sur le fichier: w

 - modifier le contenu d'un fichier?
    -> sur le répertoire: x
    -> sur le fichier: rw

 - effacer un fichier? 
    -> sur le répertoire: wx
    -> sur le fichier: r (avec confirmation) ou rw (sans confirmation)

 - y ajouter un fichier? 
    -> sur le répertoire: wx
    -> sur le fichier: rw


~~~~~~~~~~~~~~~
~~~~~~~~~~~~~~~

2.2 UTILISATION

* Droits par défaut attribués au fichier?

-rw-r--r-- 1 aladouce info_etudiants 0 oct  5 15:10 rep/fichier
les droit de lire & ecrire pour l'user et droit de lire pour group et other


* Droits attribués à fichier?   

---x--x--x 1 aladouce info_etudiants 0 oct  5 15:10 rep/fichier
seulement les droits d'executer pour tous


* Commande (octal) permettant de donner les droits en lecture et
  écriture au propriétaire et aucun droit à tous les autres?

chmod 600 rep/fichier

* Commande équivalente avec les arguments sous forme symbolique?

chmod u+rw,go-rwx rep/fichier 


------------------------------------------------------------
------------------------------------------------------------


3 ACL

3.1 LIRE ET ANALYSER LES DROITS

RÉPERTOIRE Semaine4

* Résultat de getfacl sur Semaine4

# file: S4/
# owner: aladouce
# group: info_etudiants
user::rwx
group::r-x
group:7512:rwx
mask::rwx
other::---
default:user::rwx
default:group::r-x
default:group:7512:rwx
default:mask::rwx
default:other::---



* Masque? Restrictions?

masque : rwx
restriction : other n'a aucun droit et les groupes n'ont pas le droit d'écriture


* Droits maximum pour le groupe info_etudiants? 
* Droits effectifs?

r et w 


* Groupe ayant des droits privilégiés? 
* Droits accordés?

le groupe "7512" : tout les droits


* Effet des lignes commençant par default?


RÉPERTOIRE /net/Bibliotheque/ASR1/
* Propriétaire: mibillau
  Groupe: info_personnels
  Droits: rwx


* Vos droits? : r-x
* Explication: car on est concidéré comme other, et aussi on appartient au groupe info_etudiants


FICHIER /net/Bibliotheque/ASR1/A_LIRE
* Vos droits: r-x
* Droits des enseignants: rwx
* Indications de type #effective:? : r-- pour mes droits et rw- pour les enseignants


* Comment sont-elles calculées?

elles sont caculé de manière au droit ajouter ou enlever par défaut

RÉPERTOIRE /tmp/TP4_votre-login
* Conclusion:
il s'agit de droit classique donc getfacl affiche que les droit de user, group, et other

~~~~~~~~~~~~~~~~~~~~~~~~
3.2 UTILISATION

* Ajouter les droits en lecture à un utilisateur:

* Peut-il lire le contenu de votre fichier? Pourquoi?
* modifications éventuelles: 

*

RÉPERTOIRE /net/Bibliotheque/ASR1/test_acl
* résultat de getfacl:
* propriétaire?
* groupe?
* vos droits? 

* Droits à l'ajout d'un répertoire?

* Commande de copie: 

* Propriétaire et groupe de la copie?
* Remarque: 

* Ajouter les droits en lecture à un utilisateur:

* Modification récursive des masques: 

DROITS PAR DÉFAUT
* Donner par défaut les droits en lecture et écriture à un
utilisateur:


* Donner les droits en lecture sur l'arborescence au groupe enseignant. 


------------------------------------------------------------

%fin%

